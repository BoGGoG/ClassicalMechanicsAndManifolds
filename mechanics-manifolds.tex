% arara: pdflatex
%% arara: biber
%% arara: pdflatex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Wenneker Article
% LaTeX Template
% Version 2.0 (28/2/17)
%
% This template was downloaded from:
% http://www.LaTeXTemplates.com
%
% Authors:
% Vel (vel@LaTeXTemplates.com)
% Frits Wenneker
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[11pt, a4paper, twocolumn]{article} % 10pt font size (11 and 12 also possible), A4 paper (letterpaper for US letter) and two column layout (remove for one column)
\input{structure.tex} % Specifies the document structure and loads requires packages

%----------------------------------------------------------------------------------------
%	ARTICLE INFORMATION
%----------------------------------------------------------------------------------------

%\title{To those physics students who asked why $q$ and $\dot{q}$ are independent in Lagrangian Mechanics}
\title{Mathematical Notes on Manifolds in Physics}

\author{%
	\authorstyle{Niklas Zorbach\textsuperscript{1} and Marco Knipfer\textsuperscript{1, 2}} % Authors 
	\newline\newline % Space before institutions
	\textsuperscript{1}\institution{Institute for Theoretical Physics, Goethe-University Frankfurt, Germany}\\ 
	\textsuperscript{2}\institution{Institute for Physics and Astronomy, The University of Alabama, USA}\\ 
}

% Example of a one line author/institution relationship
%\author{\newauthor{John Marston} \newinstitution{Universidad Nacional Autónoma de México, Mexico City, Mexico}}

\date{Version: \today} 

%----------------------------------------------------------------------------------------

\begin{document}

\maketitle % Print the title

\thispagestyle{firstpage} % Apply the page style for the first page (no headers and footers)

%----------------------------------------------------------------------------------------
%	ABSTRACT
%----------------------------------------------------------------------------------------

%\lettrineabstract makes first letter in abstract huge and nice, but does not allow equations in the whole {}.
\lettrineabstract{We are writing these notes in order to learn Riemannian Geometry and better understand
Lagrangian Mechanics and General Relativity. As a physicist one usually learns all of this in a rather practical way without
understanding the basic mathematical concepts. For example a physicist usually does not learn that the
Lagrangian lives on the tangent bundle, because one implicitly always
identifies some spaces (here the space and the tangent space), which is possible on a flat manifold.}

%----------------------------------------------------------------------------------------
%	ARTICLE CONTENTS
%----------------------------------------------------------------------------------------

\section{Manifolds}
\subsection{Topology}
This chapter is basically taken from \citep{Schuller15} with our remarks to it.

We start with a set $M$ which is supposed to be the space where physics happens.
The weakest structure we need in order to talk about continuity (of curves or fields)
is called a topology.

\begin{defn}[Power set $\mathcal{P}$]
    The set of all subsets of $M$.
\end{defn}

\begin{defn}[Topology]
    A Topology $\mathcal{O}$ is a subset $\mathcal{O} \subseteq \mathcal{P}(M)$ satisfying:
    \begin{enumerate}
        \item $\emptyset \in \mathcal{O}$, $M\in\mathcal{O}$,
        \item $U\in\mathcal{O},\quad V\in\mathcal{O}\Rightarrow U\cap V\in\mathcal{O}$
        \item $U_\alpha\in\mathcal{O},\quad \alpha\in A \Rightarrow
            \left( \bigcup\limits_{\alpha\in A} U_\alpha \right) \in \mathcal{O}$
    \end{enumerate}
\end{defn}
Every set has the \textit{chaotic topology}
\begin{equation}
    \mathcal{O}_\text{chaotic} := \left\{ \emptyset, M \right\}\,,
\end{equation}
and the \textit{discrete topology}
\begin{equation}
    \mathcal{O}_\text{discrete} := \mathcal{P}(M)\,,
\end{equation}
which are both useless.

The special case $M = \mathbb{R}^d = \mathbb{R} \times \cdots \times \mathbb{R}$ has a standard topology
for which we need the definition of a soft ball.
\begin{defn}[Soft Ball in $\mathbb{R}^d$]
   \begin{equation}
       B_r(p) := \left\{ (q_1,\cdots,q_d)| \sum_{i=1}^{d}(p_i-p_i) < r \right\}\,,
   \end{equation} 
   with $r\in \mathbb{R}^+$, $p\in\mathbb{R}^d$.
   Note: This does not need a norm or vector space structure on $\mathbb{R}^d$.
\end{defn}
\begin{defn}[$\mathcal{O}_\text{standard}$ on $\mathbb{R}^d$]
    \begin{equation}
        U \in \mathcal{O}_\text{standard} :\Leftrightarrow \forall p\in U:
        \exists r\in\mathbb{R}^+ : B_r(p) \subseteq U
    \end{equation}
\end{defn}

\begin{figure}[h]
\centering
\begin{tikzpicture}
    %\draw[smooth cycle,tension=3.0] plot coordinates{(1,0) (1,1) (2,2) (3,3) (6,0)} node [label=right:$M$];

    % Manifold
    \draw[smooth cycle, tension=0.4] plot coordinates{(2,4) (-1.5,0) (3.5,-2) (6,1)} node [label=$M$, anchor = west] {};
    \draw[smooth cycle, tension=1, dashed] plot coordinates{(1,1) (-1,0) (1,-1) (2.5,0.5)} node [label=$U$] {};
    \draw[smooth cycle, tension=0.4, dashed] plot coordinates{(1, 2) (1,3) (3,3) (3,2)} node [label=$V$] {};
    \draw[smooth cycle, tension=0.4] plot coordinates{(1, 2) (1,3) (3,3) (3,2)} node [label=$V$] {};
    \draw[dashed] (-0.5,0) circle (.4cm) node [label = $B_r$, anchor = north west] {};
    \draw[fill] (-0.5,0) circle (.05cm) ;
    \draw (1.5,1.95) circle (.2cm) node [label = $B_r$, anchor = north west] {};
    \draw[fill] (1.5,1.95) circle (.05cm) ;

    %\draw[help lines] (-3,-6) grid (8,6);

\end{tikzpicture}
\caption{The set $U$ is in the standard topology, $V$ not.}
\end{figure}

Some terminology: Let $M$ be a set with a topology $\mathcal{O} =:$ set of open sets.
We call $(M, \mathcal{O}$ a \textit{topological space} and:
    \begin{itemize}
        \item $U \in \mathcal{O} \Leftrightarrow: \text{call } U\subseteq M$ an \textit{open set}
        \item $M\backslash A \in \mathcal{O} \Leftrightarrow: \text{call } U\subseteq M$  a \textit{closed set}
    \end{itemize}
\begin{note}
    The empty set is open and closed. If a set is open we cannot directly follow that it is not closed or vise versa. For $M = \left\{ 1, 2 \right\}$ and $\mathcal{O}_M = \left\{ \emptyset, \left\{ 1 \right\}, \left\{ 2 \right\}, \left\{ 1,2 \right\} \right\}$ the set $\left\{ 2 \right\}$ is open and closed.
\end{note}

\subsection{Continuous Maps}
A map
\begin{equation}
    f: M \to N\,,
\end{equation}
takes every point from the domain M (a set) to the target N (a set).
If one point $p\in N$ is not reached, the map is not \textit{surjective}.
If a point is hit twice, the map is not \textit{injective}.
A map that is injective and surjective is called \textit{surjective}.

\begin{defn}[Preimage]
    \begin{align}
        f&: M \to N \supseteq V \nonumber \\
        \text{preim}_f(V) &:= \left\{ m\in M~|~f(f) \in V \right\}
    \end{align}
\end{defn}

\begin{defn}[Continuity]
    $(M, \mathcal{O}_M)$ and $(N, \mathcal{O}_N)$ topological spaces.
    Then a map $f: M \to N$ is called \textit{continuous with respect to $\mathcal{O}_M$ and
    $\mathcal{O}_N$} if
    \begin{equation}
    \forall V\in \mathcal{O}_N: \text{preim}_f(V) \in \mathcal{O}_M\,.
    \end{equation}
    \textit{``A map is open iff the preimages of all open sets are open sets.''}
\end{defn}

\begin{note}
    If a map is not surjective there are sets with preimage $\emptyset$, thus we need to have
    $\emptyset$ in $\mathcal{O}$, otherwise only surjective maps could be continuous.
\end{note}
\begin{note}
    The inverse of a continuous function does not need to be continuous.
\end{note}

\begin{defn}[Composition of maps]
    For $f$ and $g$
    \begin{equation*}
        f: M \to N, \quad g: N \to P\,,
    \end{equation*}
    we define the \textit{composition} as
    \begin{align}
        g \circ f&: M \to P \\
        m &\mapsto (g\circ f)(m) := g(f(m)) \nonumber
    \end{align}
\end{defn}

\begin{theorem}[Composition of continuos maps]
    For $f$, $g$ continuos also $g\circ f$ is continuous (if spaces match).
\end{theorem}


\begin{defn}[Subset topology, Inherited topology]
    A set $M$ with topology $\mathcal{O}_M$. Given any subset $S \subseteq M$ we
    can construct the inherited topology $\mathcal{O}\eval_S \subseteq \mathcal{P}(S)$
    \begin{equation}
        \mathcal{O}\eval_S := \left\{ U\cap S~|~U\in \mathcal{O}M \right\}\,.
    \end{equation}
\end{defn}

\begin{note}
    For $S \subseteq M$, if $f$ is continuous then $f\eval_{S}$ is also
    continuous if $\mathcal{O}\eval_S$ is chosen. This is for example important
    if you are on a trajectory $\gamma$ through $\mathbb{R}^n$ and measure the temperature
    $T\eval_\gamma$.
\end{note}

\begin{defn}[Topological manifold]
    A topological space $(\M, \mathcal{O})$ is called a \textit{d-dimensional topological manifold}
    if
    \begin{equation}
        \forall p \in \M: \exists U \in \mathcal{O},~p\in U: \exists x: U\to x(U)\subseteq \mathbb{R}^{d}
        \,,
    \end{equation}
    with the following properties (wrt. $\mathcal O_\text{std}$ on $\mathbb{R}^{d}$):
    \begin{enumerate}
        \item $x$ intervitble: $x^{-1} : x(U) \to U$,
        \item $x$ continuous,
        \item $x^{-1}$ continuous\,.
    \end{enumerate}
    ``Invertible, in both directions continuous map to $\mathbb{R}^{n}$.''
\end{defn}

\begin{note}
    Thus in the above definition $x(U)$ is also open (from the definition of continuity).
\end{note}

\begin{terminology}
    \begin{itemize}
        \item $(U,x)$ is a \textit{chart} of $\M, \mathcal{O}$,
        \item $\mathcal{A} = \left\{ (U_{(\alpha)}, x_{(\alpha)} | \alpha \in A \right\}$ is an \textit{atlas} of $(\M, \mathcal{O})$ if $\bigcup\limits_{\alpha\in A} U_{(\alpha)}$ covers the whole manifold $\M$,
        \item $x: U \to x(U) \subseteq \mathbb{R}^{d}$ is a \textit{chart map} 
            $x(p) = (x^1(p), \dots, x^d(p))$, where the \textit{component maps} $x^i: U\to\mathbb{R}$ are called \textit{coordinate maps},
        \item $p \in U$, then $x^1(p)$ is the first coordinate of the point p wrt.\ the chosen chart $(U, x)$.
    \end{itemize}
\end{terminology}
\begin{note}
    The choice of the chart (choice of coordinates) has nothing to do with the physics.
    Physics is chart independent. $\M$ is ``the real world''.
\end{note}

\subsection{Chart Transition Maps}

\begin{figure*}[tbh]
    \centering
    \begin{tikzpicture}
    % https://tex.stackexchange.com/questions/382762/drawing-manifolds-in-tikz
    % Functions i
        \path[->] (0.8, 0) edge [bend right] node[left, xshift=-2mm] {$x$} (-1, -2.9);
        \draw[white,fill=white] (0.06,-0.57) circle (.15cm);
        \path[->] (-0.7, -3.05) edge [bend right] node [right, yshift=-3mm] {$x^{-1}$} (1.093, -0.11);
        \draw[white, fill=white] (0.95,-1.2) circle (.15cm);

    % Functions j
        \path[->] (5.8, -2.8) edge [bend left] node[midway, xshift=-5mm, yshift=-3mm] {$y^{-1}$} (3.8, -0.35);
        \draw[white, fill=white] (4,-1.1) circle (.15cm);
        \path[->] (4.2, 0) edge [bend left] node[right, xshift=2mm] {$y$} (6.2, -2.8);
        \draw[white, fill=white] (4.54,-0.12) circle (.15cm);

    % Manifold
        \draw[smooth cycle, tension=0.4, fill=white, pattern color=brown, pattern=spray, opacity=0.7] plot coordinates{(2,2) (-0.5,0) (3,-2) (5,1)} node at (3,2.3) {$\M$};

    % Help lines
    %\draw[help lines] (-3,-6) grid (8,6);

    % Subsets
        \draw[smooth cycle, dashed, pattern color=orange, pattern=crosshatch dots, fill opacity = 0.4] 
        plot coordinates {(1,0) (1.5, 1.2) (2.5,1.3) (2.6, 0.4)} 
        node [label={[label distance=-0.3cm, xshift=-2cm, fill=white]:$U$}] {};
        \draw[smooth cycle, dashed, pattern color=blue, pattern=crosshatch dots, fill opacity = 0.4] 
        plot coordinates {(4, 0) (3.7, 0.8) (3.0, 1.2) (2.5, 1.2) (2.2, 0.8) (2.3, 0.5) (2.6, 0.3) (3.5, 0.0)} 
        node [label={[label distance=-0.8cm, xshift=.75cm, yshift=1cm, fill=white]:$V$}] {};

    % First Axis
        \draw[thick, ->] (-3,-5) -- (0, -5) node [label=above:$x(U)$] {};
        \draw[thick, ->] (-3,-5) -- (-3, -2) node [label=right:$\mathbb{R}^d$] {};

    % Arrow from i to j
        \draw[->] (0, -3.85) -- node[midway, above]{$y\circ x^{-1}$} (4.5, -3.85);

    % Second Axis
        \draw[thick, ->] (5, -5) -- (8, -5) node [label=above:$x(V)$] {};
        \draw[thick, ->] (5, -5) -- (5, -2) node [label=right:$\mathbb{R}^d$] {};

    % Sets in R^m
        \draw[white, dashed, pattern color=blue, pattern=crosshatch dots, fill opacity = 0.4] (-0.67, -3.06) -- +(180:0.8) arc (180:270:0.8);
        \fill[even odd rule, white] [smooth cycle] plot coordinates{(-2, -4.5) (-2, -3.2) (-0.8, -3.2) (-0.8, -4.5)} (-0.67, -3.06) -- +(180:0.8) arc (180:270:0.8);
        \draw[smooth cycle, dashed, pattern color = orange, pattern = crosshatch dots, fill opacity = 0.4] plot coordinates{(-2, -4.5) (-2, -3.2) (-0.8, -3.2) (-0.8, -4.5)};
        \draw[dashed] (-1.45, -3.06) arc (180:270:0.8);

        \draw[white, dashed, pattern color=orange, pattern=crosshatch dots, fill opacity = 0.4] (5.7, -3.06) -- +(-90:0.8) arc (-90:0:0.8);
        \fill[even odd rule, white] [smooth cycle] plot coordinates{(7, -4.5) (7, -3.2) (5.8, -3.2) (5.8, -4.5)} (5.7, -3.06) -- +(-90:0.8) arc (-90:0:0.8);
        \draw[smooth cycle, dashed, pattern color = blue, pattern = crosshatch dots, fill opacity = 0.4] plot coordinates{(7, -4.5) (7, -3.2) (5.8, -3.2) (5.8, -4.5)};
        \draw[dashed] (5.69, -3.85) arc (-90:0:0.8);

    \end{tikzpicture}

    \caption{Visualization of chart transition maps. ``How to glue together the charts of an atlas.'' Plot modified from~\citep{texstackexchange:manifolds}}
    \label{fig:transitionmaps}
\end{figure*}
Given $(U, x)$ and $(V, y)$ charts, on $U\cup V$ one can transition from
one chart to the other by (see figure~\ref{fig:transitionmaps})
\begin{equation}
    y\circ x^{-1}: \mathbb{R}^{d} \supseteq x(U\cap V) \to y(U\cap V) \subseteq \mathbb{R}^{d}\,,
\end{equation}
which is called the \textit{chart transition map}.
\begin{note}
    As a physicist one talks about a ``change in coordinates''.
\end{note}

\subsection{Manifold Philosophy}

The idea is to define properties of some object in the real world $\M$ by at a chart-representative
of it. For example the continuity of a curve $\gamma: [0,1]\to\M$ can be judged by looking at
$x\circ\gamma: [0,1]\to\mathbb{R}^{d}$, because $x$ is invertible and in both directions continuous
and the composition of two continuous maps is also continuous.
\begin{note}
    One needs to make sure that the property of the object on $\M$ does not depend on the
    map $x$ or $y$. For continuity this is the case, since 
    $y\circ\gamma = (y\circ x^{-1}) \circ x\circ \gamma$ and the chart transition map
    $y\circ x^{-1}$ is also continuous.
\end{note}

Other properties like ``differentiability'' are not even defined on $\M$ a priori,
so one can only talk about the chart representative. Here the definition that $\gamma$
is differentiable iff $x\circ\gamma: [0,1]\to\mathbb{R}^{d}$ is differentiable has the
problem that $x$ and $y$ only need to be continuous and so the chart transition map
$y\circ x^{-1}$ does not need to be differentiable unless one restricts oneself to only
differentiable charts.

\section{Vector Spaces}
\subsection{Vectors and Linear Maps}
In order to understand the tangent space we need to understand vector spaces.
\begin{defn}[Vector space $(V,+,\cdot)$]
    \label{def:vectorspace}
    A vector space $(V,+,\cdot)$ is a set $V$ with
    \begin{itemize}
        \item an ``addition'' $+: V\times V \ to V$,
        \item an ``S-multiplication'' $\cdot:\mathbb{R}\times V \ to V$
    \end{itemize}
    and the properties CANI ADDU:\\ $\forall v, w, u \in V, \lambda, \mu \in \mathbb{R}$
    \begin{description}
        \item[C$^+$:] $v + w = w + v$\,,
        \item[A$^+$:] $(u + v) + w = u + (v + w)$\,,
        \item[N$^+$:] $\exists 0 \in V: \forall v \in V: v + 0 = v$\,,
        \item[I$^+$:] $\forall v \in V: \exists(-v)\in V: v + (-v) = 0$\,,
        \item[A:] $\lambda \cdot ( \mu \cdot v) = (\lambda \cdot \mu) \cdot v$\,,
        \item[D:] $(\lambda + \mu)\cdot v = \lambda \cdot v + \mu \cdot v$\,,
        \item[D:] $\lambda \cdot v + \lambda \cdot w = \lambda \cdot (v + w)$\,,
        \item[U:] $ 1 \cdot v = v$\,.
    \end{description}
    An element of a vector space is called a \textit{vector}.
\end{defn}
\begin{note}
The addition $+$ in definition~\ref{def:vectorspace} sometimes is between vectors and sometimes between
scalars. It is important to know the difference.
\end{note}

\begin{defn}[Linear maps]
    (Structure respecting maps between vector spaces)\newline
    $(V, +_V, \cdot_V)$ and $(W, +_W, \cdot_W)$ vector spaces.
    A map
    \begin{equation}
        \phi: V \to W
    \end{equation}
    is called \textit{linear} if $\forall v, \tilde{v} \in V, \forall \lambda \in \mathbb{R}$
    \begin{enumerate}
        \item $\phi(v +_V + \tilde{v}) = \phi(v) +_W \phi(\tilde{v})$
        \item $\phi(\lambda\cdot_V v) = \lambda \cdot_W \phi(v)$
    \end{enumerate}
    We write:
    \begin{equation}
        \phi: V \to W\, \text{linear}\, \Leftrightarrow: \phi: V \linearto W\,.
    \end{equation}
\end{defn}

\begin{theorem}[Transitivity of linearity of maps]
    $V, W, U$ vector spaces, $\psi: V\linearto W$, $\phi: W\linearto U$
    then $\phi \circ \psi$ is also linear: $\phi\circ\psi: V \linearto U$.
\end{theorem}

\begin{defn}[Homomorphisms Hom$(V,W)$]
    \begin{equation}
        \text{Hom}(V,W):= \left\{ \phi: V\linearto W \right\}\,.
    \end{equation}
\end{defn}
\begin{note}
    Hom$(V,W)$ can be made into a vector space by defining an addition and a multiplication
    \begin{itemize}
        \item $(\phi + \psi)(v) := \phi(v) + \psi(v)$\,,
        \item $(\lambda \psi)(v) := \lambda (\psi(v))$\,.
    \end{itemize}
\end{note}

\begin{defn}[Dual vector space $V^\star$]
    \begin{equation}
        V^\star := \left\{ \phi: V \linearto \mathbb{R} \right\} = \text{Hom}(V, \mathbb{R})\,.
    \end{equation}
    The vector space $(V^\star, +, \cdot)$ is the \textit{dual vector space} to $V$.
    $\phi \in V^\star$ is informally called a \textit{covector}.
\end{defn}

\begin{defn}[$(r, s)$ - Tensors]
    $(V, +, \cdot)$ vector space, $r, s\in \mathbb{N}_0$.
    An $(r, s)$-tensor $T$ over $V$ is a multi-linar map
    \begin{equation}
        T: \overbrace{V^\star \times \cdots \times V^\star}^r \times
        \overbrace{V \times \cdots \times V}^s \xrightarrow{\begin{smallmatrix} \sim\\ \vdots \\ \sim \end{smallmatrix}} \mathbb{R}
    \end{equation}
\end{defn}
\begin{theorem}[Covector is (0,1)-tensor]
    \begin{equation}
        \phi\in V^\star \Leftrightarrow \phi: V\linearto \mathbb{R} \Leftrightarrow \phi\,(0,1)\,\text{tensor}\,.
    \end{equation}
\end{theorem}
\begin{theorem}[Vector is (1,0)-tensor]
    If $\text{dim}V < \infty$
    \begin{equation}
        v \in V = (V^\star)^\star \Leftrightarrow 
        v: V^\star \linearto \mathbb{R} \Leftrightarrow
        v\,\text{is}\, (1,0)-\text{tensor}\,.
    \end{equation}
\end{theorem}

\subsection{Bases}
\begin{defn}[Hamel-basis]
    $(V, +, \cdot))$ vector space. A subset $B \subset V$ is called a Hamel-basis if
    \begin{equation}
        \forall v\in V\, \exists!\,\text{finite}\,F=\left\{ f_1,\ldots,f_n \right\}\subset B: \exists! \underbrace{v^1, \cdots, v^n}_{\in \mathbb{R}}\,,
    \end{equation}
    such that
    \begin{equation}
        v = v^1 f_1 + \cdots + v^n f_n\,.
    \end{equation}
    (and all $f_i$ linearly independent).
\end{defn}
\begin{defn}[Dimension of a vector space]
    If a basis $B$ with $d<\infty$ many elements, then we call $d =: \text{dim}V$.
\end{defn}

If we have chosen a basis $\left\{ e_1, \ldots, e_n \right\}$ of $(V, +, \cdot)$ then
$(v^1, \ldots, v^n)$ are called the \textit{components of $V$} w.r.t.\ the chosen basis
if
\begin{equation}
    v = v^1 e_1 + \cdots v^n e_n\,.
\end{equation}

\begin{defn}[Dual basis]
    Choose basis $\left\{ e_1, \cdots, e_n \right\}$ for $V$. 
    The basis $\left\{ \epsilon^1, \cdots, \epsilon^n \right\}$
    for $V^\star$ can be chosen that
    \begin{equation}
        \epsilon^a(e_b) = \delta^a_b\quad \forall a,b = 1,\ldots, n\,.
    \end{equation}
    $\left\{ \epsilon^1,\dots,\epsilon^n \right\}$ is then called \textit{the dual basis} of the dual
    space.
\end{defn}

\subsection{Components of a tensor}
$T$ an $(r,s)$-tensor. Then the real numbers
\begin{equation}
    T\indices{^{i_1\ldots i_r} _{j_1\ldots j_s}} = T\left( \epsilon^{i_1},\ldots, \epsilon^{i_r}, e_{j_1}, \ldots e_{j_s}\right)
\end{equation}
are the components of $T$ with respect to the chosen basis.
From the components and the basis one can reconstruct the entire tensor:
Example for (1, 1)-tensor:
\begin{equation}
    T(\varphi, v) = T\indices{^i _j} \varphi_i v^j\, \label{eq:tensorcomponentsexample}
\end{equation}
where $\varphi_i$ are the components of $\varphi\in V^\star$ and $v^j$ the components of $v\in V$ with respect to
the chosen basis. In equation~(\ref{eq:tensorcomponentsexample}) the \textit{Einstein summation convention} is used, \textit{i.e.}\ an index that appears up and down in an expression is summed over.

\begin{note}
    The Einstein summation convention is only useful because we are working with \textit{linear maps},
    otherwise the expression
    \begin{equation}
        \varphi\left(\sum_i v^i e_i\right) = \sum_i \varphi(v^i e_i)\,, 
    \end{equation}
    would not hold and with the summation index we would not know where the sum sign goes.
\end{note}

\section{Differentiable Manifolds}
So far we only had topological manifolds. We also want to be able to talk about the velocity of
curves. The problem is that the notion of a topological manifold is not enough to define
differentiability of curves. In this section we will find out what additional structure we need
to be able to talk about the differentiability of
\begin{itemize}
    \item curves: $\mathbb{R}\to \M$
    \item functions: $\M\to \mathbb{R}$
    \item maps: $\M\to\mathcal{N}$
\end{itemize}
Strategy: Choose a chart $(U, x)$ and consider portion of the curve in the domain of the chart:
$\gamma: \mathbb{R}\to U$ (see figure~\ref{fig:curvechart}). Since $x\circ\gamma: \mathbb{R}\to\mathbb{R}^d$
we can try to ``lift'' the notion of differentiability of a curve on $\mathbb{R}^d$ to that of
a curve on $\M$. The problem is to make this independent of the chart.
\begin{figure}
    \centering
    \begin{tikzpicture}
    \matrix (m) [matrix of math nodes,row sep=3em,column sep=4em,minimum width=2em]
    {
        ~                 & y(U\cup V)\subseteq \mathbb{R}^d\\
        \gamma:\mathbb{R} & U\cup V \neq \emptyset \\
        ~                 & x(U\cup V)\subseteq \mathbb{R}^d \\
    };
    \path[-stealth]
        (m-2-1) edge node [above] {$\gamma$} (m-2-2)
        (m-2-1) edge node [below, rotate = -25] {$x\circ\gamma$} (m-3-2)
        (m-2-1) edge node [above, rotate = +25] {$y\circ\gamma$} (m-1-2)
        (m-3-2) edge[bend right = 60] node [right, rotate = 90, xshift = -0.5cm, yshift = -0.2cm] {$y\circ x^{-1}$} (m-1-2)
        (m-2-2) edge node [right] {$x$} (m-3-2)
        (m-2-2) edge node [right] {$y$} (m-1-2);
    \end{tikzpicture}
    \caption{Curve $\gamma$ in chart.}
    \label{fig:curvechart}
\end{figure}
\begin{equation}
    y\circ\gamma = \underbrace{(y\circ x^{-1})}_{\mathbb{R}^d\to\mathbb{R}^d}\circ \underbrace{(x\circ\gamma)}_{\substack{\mathbb{R}\to\mathbb{R}^d\\ \text{differentiable}}}\,,
\end{equation}
but we only know that the \textit{chart transition map} $y\circ x^{-1}$ is continuous (because of the definition of a top. Manifold). Thus it is not guaranteed that
$y\circ \gamma$ is continuons, not differentiable. Reminder: The composition of continuous maps is continuous,
same for differentiable. 
The above definition of differentiability of $\gamma$ by
checking the differentiability of $x\circ\gamma$ with some chart $x$ is not independent of the chart.

\begin{defn}[$\flower$ - compatibility of charts]
    Two charts $(U, x)$ and $(V, y)$ of a topological manifold are called $\flower$-compatible if
    either
    \begin{enumerate}
        \item $U\cup V = \emptyset$ or
        \item $U\cup V \neq \emptyset$ and the chart transition maps
            \begin{align*}
                y\circ x^{-1}&:\mathbb{R}^d\supseteq x(U\cup V) \to y(U\cup V) \subseteq \mathbb{R}^d \\
                x\circ y^{-1}&: \mathbb{R}^d\supseteq y(U\cup V) \to x(U\cup V) \subseteq \mathbb{R}^d
            \end{align*}
            have the $\flower$-property in the $\mathbb{R}^d$-sense.
    \end{enumerate}
\end{defn}

\begin{defn}[$\flower$-compatible atlas]
    An atlas $\mathcal{A}_\flower$ is a $\flower$-compatible atlas if any two charts in
    $\mathcal{A}_\flower$ are $\flower$-compatible.
\end{defn}

\begin{defn}[$\flower$-manifold]
    A $\flower$-manifold is a triple $(\underbrace{\M, \mathcal{O}}_{\text{top.\ manif.}}, 
    \underbrace{\mathcal{A}_\flower}_{\in \mathcal{A}_\text{max}}$).
\end{defn}

\begin{tabular}{ll}
    $\flower$ & $\flower$ property in $\mathbb{R}^d$-sense \\
    \hline\hline
    $C^0$     & $C^0(\mathbb{R}^d \to \mathbb{R}^d)$ continuous maps\\
    $C^1$     & $C^1(\mathbb{R}^d \to \mathbb{R}^d)$ differentiable and result is cont.\\
    $C^k$     & $C^k(\mathbb{R}^d \to \mathbb{R}^d)$ k times diffble and result is cont.\\
    $D^k$     & $D^k(\mathbb{R}^d \to \mathbb{R}^d)$ k times differentiable\\
    $C^\infty$     & $C^\infty(\mathbb{R}^d \to \mathbb{R}^d)$ smooth functions\\
    $C^\omega$  & $\exists$ multidim. Taylor expansion, $C^\omega \subset C^\infty$
\end{tabular}
\begin{note}
    The more fancy properties one wants for the objects on the manifold, the more restrictive one
    has to be for the atlas.
\end{note}
\begin{theorem}[$C^1\to C^\infty$]
    Any $C^{k \leq 1}$-manifold atlas $\mathcal{A}_{C^{k\leq 1}}$ of a topological manifold contains
    a $C^\infty$-atlas.
\end{theorem}
Thus we may without loss of generality always consider $C^\infty$-manifolds. 
``smooth'' manifolds, unless we wish to define Taylor expandibility or complex differentiability, \ldots.
\begin{defn}[Smooth manifold]
    $(\M, \mathcal{O}, \mathcal{A})$, where $(\mathcal{M, O})$ is a topological manifold and $\mathcal{A}$ is a $C^\infty$-atlas.
\end{defn}

\section{Diffeomorphisms}
\begin{equation*}
    M \xrightarrow{\phantom{asdf}\phi\phantom{asdf}} N
\end{equation*}
$M$, $N$ naked sets, then the structure-preserving maps are bijections (invertionable maps).
\begin{defn}[Set-theoretically isomorphic]
    Two sets $M$, $N$ are said to be \textit{set-thoretically isomorphic} $M\cong_\text{st} N$ if
    $\exists$ a bijection $\phi: M\to N$ between them.
\end{defn}
\begin{note}
    Then they are ``of the same size''. Examples: $\mathbb{N}\cong_\text{st}\mathbb{Z}$, $\mathbb{N}\cong_\text{st} \mathbb{Q}$,
    $\mathbb{N}\not\cong_\text{st} \mathbb{R}$
\end{note}
Now $(\M, \mathcal{O}_\M)$ and $(\mathcal{N}, \mathcal{O_N})$.
\begin{equation*}
    \M \xrightarrow{\phantom{asdf}\phi\phantom{asdf}} \mathcal{N}
\end{equation*}
\begin{defn}[Topologically isomorphic (homeomorphic)]
    $(\M, \mathcal{O}_\M) \cong_\text{top} (\mathcal{N}, \mathcal{O_N})$ topologically isomorphic = ``homeomorphic'' if $\exists \phi: \M\to\mathcal{N}$ and $\phi, \phi^{-1}$ are \textit{continuous}.
\end{defn}
\begin{note}
    Continuity is the important property here.
    This is a stronger notion. If two spaces are hoemomorphic then they are also set-theoretically isomorphic.
\end{note}
\begin{defn}[Isomorphic vector spaces]
    $(V, +_V, \cdot_V) \cong_\text{vec} (W, +_W, \cdot_W)$ if $\exists$ a bijection $\phi:V\to W$ that is
    linear in both directions.
\end{defn}
\begin{defn}[diffeomorphic]
    Two $C^\infty$ manifolds $(\M, \mathcal{O_M}, \mathcal{A_M})$ and $(\mathcal{N, O_N, A_N})$
    are said to be \textit{diffeomorphic} if $\exists$ a bijeciton $\phi: \M \to \mathcal{N}$ such that
    $\phi, \phi^{-1}$ are both $C^\infty$-maps, where by $C^\infty$ we mean that $y\circ \phi \circ x^{-1}$
    is in $C^\infty$ in the $\mathbb{R}^d$-sense, see figure~\ref{fig:diffeo-commdiag}.
    \label{def:diffeomorphic}
\end{defn}

\begin{figure}[tbh]
    \centering
    \begin{tikzpicture}
    \matrix (m) [matrix of math nodes,row sep=3em,column sep=4em,minimum width=2em]
    {
        \mathbb{R}^d & \mathbb{R}^l \\
        \M \supseteq U & V \subseteq N \\
        \mathbb{R}^d & \mathbb{R}^l \\
    };
    \path[-stealth]
        (m-1-1) edge node [below] {$\tilde{y} \circ \phi \circ \tilde{x}^{-1}$} (m-1-2)
        (m-2-1) edge node [left] {$\tilde{x}$} (m-1-1)
        (m-2-2) edge node [right] {$\tilde{y}$} (m-1-2)
        (m-2-1) edge node [above] {$\phi$} (m-2-2)
        (m-2-1) edge node [left] {$x$} (m-3-1)
        (m-2-2) edge node [right] {$y$} (m-3-2)
        (m-3-1) edge node [above] {$y \circ \phi \circ x^{-1}$} (m-3-2)
        (m-3-1) edge[bend left = 60] node [left, rotate = 90, xshift = 0.5cm, yshift = +0.2cm] {$C^\infty$} (m-1-1)
        (m-3-2) edge[bend right = 60] node [right, rotate = 90, xshift = -0.4cm, yshift = -0.25cm] {$C^\infty$} (m-1-2);
    \end{tikzpicture}
    \caption{In the definition of diffeomorphic~\ref{def:diffeomorphic} $\phi, \phi^{-1}$ have to be
    $C^\infty$, which is defined such that $y\circ\phi\circ x^{-1}$ has to be $C^\infty$ in the $\mathbb{R}^d$-sense, which is chart-independent here.}
    \label{fig:diffeo-commdiag}
\end{figure}
\begin{note}
    Since we started with $C^\infty$-manifolds, the chart transition maps are $C^\infty$ and thus
    the notion of differentiability in the definition~\ref{def:diffeomorphic} is independent of the
    choice of charts, \textit{i.e.} $\tilde{y}\circ\phi\tilde{x}^{-1}$ is also $C^\infty$, see figure~\ref{fig:diffeo-commdiag}.
\end{note}
\begin{theorem}
    \# = number of $C^\infty$-manifolds one can make of a given $C^\infty$-manifold (if any) --- up to diffeomorphisms ---.\newline
    \begin{center}
    \begin{tabular}{ll}
        $\text{dim}M$  & \# \\
        \hline
        \begin{tabular}{l} 1 \\ 2 \\ 3 \end{tabular} & $\left.\begin{tabular}{l} 1 \\ 2 \\ 3 \end{tabular}\right\}$ Moise-Radon theorem  \\
        \begin{tabular}{l} 4 \end{tabular} & \begin{tabular}{l} uncountable infinitely many \end{tabular} \\
        \begin{tabular}{l} 5 \\ 6 \\ \vdots \end{tabular} & $\left.\begin{tabular}{l} finite \\ finite \\ finite \end{tabular}\right\}$ surgery theory
    \end{tabular}
    \end{center}
\end{theorem}
%------------------------------------------------


%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------

\printbibliography[title={Bibliography}] % Print the bibliography, section title in curly brackets

%----------------------------------------------------------------------------------------

\end{document}
